<!DOCTYPE html>
<html lang="ko">
<head>

    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="코로나19 국내 발생현황 및 관련정보를 한눈에 알아보세요!">
    <meta name="author" content="Ice Cream">
    <meta name="keywords" content="코로나19">
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-159921858-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-159921858-1');
</script>


    <!-- Title Page-->
    <title></title>


    <!-- Fontfaces CSS-->
    <link href="css/font-face.css" rel="stylesheet" media="all">
    <link href="vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all">
    <link href="vendor/font-awesome-5/css/fontawesome-all.min.css" rel="stylesheet" media="all">
    <link href="vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all">
    <script src="https://livecorona.co.kr/data/koreaRegionalData.js"></script>

    <!-- Bootstrap CSS-->
    <link href="vendor/bootstrap-4.1/bootstrap.min.css" rel="stylesheet" media="all">

    <!-- Vendor CSS-->
    <link href="vendor/animsition/animsition.min.css" rel="stylesheet" media="all">
    <link href="vendor/bootstrap-progressbar/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet" media="all">
    <link href="vendor/wow/animate.css" rel="stylesheet" media="all">
    <link href="vendor/css-hamburgers/hamburgers.min.css" rel="stylesheet" media="all">
    <link href="vendor/slick/slick.css" rel="stylesheet" media="all">
    <link href="vendor/select2/select2.min.css" rel="stylesheet" media="all">
    <link href="vendor/perfect-scrollbar/perfect-scrollbar.css" rel="stylesheet" media="all">
        <script src="https://cdn.plrjs.com/player/rfayfi545seai/b2ya8wao32em.js" type="text/javascript"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.15.0/d3.min.js" type="text/javascript"></script>
        <script src="https://cdn.jsdelivr.net/npm/luxon@1.22.0/build/global/luxon.min.js" type="text/javascript"></script>



    <!-- Main CSS-->
    <link href="css/theme.css" rel="stylesheet" media="all">
    <link href="https://fonts.googleapis.com/css?family=Nanum+Gothic:700|Noto+Sans+KR&display=swap" rel="stylesheet">

     <script type="text/javascript">
 (function(w,d,v3){
 w.chaportConfig = {
 appId : '5e440199d9d3b143e8105db2'
 };

 if(w.chaport)return;v3=w.chaport={};v3._q=[];v3._l={};v3.q=function(){v3._q.push(arguments)};v3.on=function(e,fn){if(!v3._l[e])v3._l[e]=[];v3._l[e].push(fn)};var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://app.chaport.com/javascripts/insert.js';var ss=d.getElementsByTagName('script')[0];ss.parentNode.insertBefore(s,ss)})(window, document);
 </script>

 <audio id="track">
  <source src="voice.mp3" type="audio/mpeg" />
</audio>

</head>
<a href="#Rtop" id="return-to-top"><i class="fas fa-arrow-up"></i></a>
<body class="animsition">
    <div class="page-wrapper">
        <!-- PAGE CONTENT-->
        <div class="page-content--bgf7">

            <!-- WELCOME-->
            <section class="welcome p-t-10" id="Rtop">
                <div class="container">
                    <div class="row">



                        <div class="rs-select2--dark rs-select2--sm" style="padding-top:10px; width:100px; position: absolute; top:20px; right:20px; z-index: 9999999;">
                                                <select class="js-select2 au-select-primary" id="id-lang" name="language" onchange="chageLangSelect()">
                                                    <option selected="selected" value="ko">Korean</option>
                                                    <option value="en">English</option>
                                                </select>
                                                <div class="dropDownSelect2"></div>
                                            </div>


                        <div class="col-md-12" style="margin-top:30px; margin-left:10px;">
                            <h1 style="font-size:22px;" id="suggestText">여기에 <br>메시지 표시
                            </h1><br>

                            <h6 class="pb-4 display-5" style="color:#a9a9a9;" id="whenUpdate"><div class="animated">
        <div class="parent"></div>
        <div class="padding"></div>
        <div class="title"></div>정보 가져오는 중...</h6>

                            
                            <button id="ttsBtn" onclick="javascript:CreateVoice();">보이스 브리핑 <span style="color:#a9a9a9; font-size:10px;">with</span> <img src="http://prosody-tts.com/img/custom/logo.png" width="20px" height="20px"></span></button>

                            <div id="player-container">
                            <div id="play-pause" style="display: none;" class="play"><span style="margin-left:40px; font-size: 15px;">보이스 브리핑 <span style="color:#a9a9a9; font-size:10px;">with</span> <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/4f/Naver_Clova_Logotype.svg/1200px-Naver_Clova_Logotype.svg.png" width="30px" height="30px"></span></div>
                                

                            </div>

                            <script>
function CreateVoice() {

        var confirmed = document.getElementById("confirmed").innerHTML;
        var whenupdate = document.getElementById("whenUpdate").innerHTML;
        var confirmedPM = document.getElementById("confirmedPM").innerHTML.replace("확진자", "").replace("(+ ", "").replace(")", "").replace(/\s/gi, "");
        var cure = document.getElementById("cure").innerHTML;
        var curePM = document.getElementById("curePM").innerHTML.replace("격리해제자", "").replace("(+ ", "").replace(")", "").replace(/\s/gi, "");
        var death = document.getElementById("death").innerHTML;
        var deathPM = document.getElementById("deathPM").innerHTML.replace("사망자", "").replace("(+ ", "").replace(")", "").replace(/\s/gi, "");
        var deathPMtf = document.getElementById("deathPM").style.display;
        console.log(whenupdate);

        if(confirmed.toString() != "로딩중") {
            document.getElementById("ttsBtn").innerHTML = '<img src="https://smartsupport.lenovo.com/esv4/images/loading.gif" width="20px" height="20px" style="margin-right: 10px;">보이스 브리핑 <span style="color:#a9a9a9; font-size:10px;">with</span> <img src="http://prosody-tts.com/img/custom/logo.png" width="20px" height="20px"></span>';
            //여기에 스페셜 텍스트 추가
        var specialText = "최근 수도권 지역을 중심으로 집단 감염사례가 발생하고 있습니다. 마스크 착용 등 개인 위생수칙을 지속적으로 준수하여 주시기 바랍니다.";

        //텍스트 생성
        if(deathPMtf == "block") {
    var helperConts = whenupdate.substring(1, 2) + '월 '+whenupdate.substring(2, 5)+'일 0시 기준. 국내 코로나일구 누적 확진자는 전일 0시 대비' + confirmedPM.toString() + '명 증가해 총 ' + confirmed.toString() + '이고, 격리해제자는 '+ curePM.toString() + '명 증가해 총 '+ cure.toString() + '입니다. 사망자는 '+deathPM.toString() + '명 추가되어 총 '+death.toString()+' 입니다. ' + specialText;

} else {
    var helperConts = whenupdate.substring(1, 2) + '월 '+whenupdate.substring(2, 5)+'일 0시 기준. 국내 코로나일구 누적 확진자는 전일 0시 대비' + confirmedPM.toString() + '명 증가해 총 ' + confirmed.toString() + '이고, 격리해제자는 '+ curePM.toString() + '명 증가해 총 '+ cure.toString() + '입니다. 사망자는 추가로 발생하지 않아 총 '+ death.toString() + "입니다. " + specialText;
}


        const xhr = new XMLHttpRequest();
        const contents = helperConts;
        const data = {
        text: contents,
        actor: 'Byeong-chan_H'
    }
    xhr.open('POST', 'https://api.prosody-tts.com/api/ttsapi/voice-generation/', true);
    xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
    xhr.responseType = 'json'
    xhr.addEventListener('load', function () {
     GenerateVoice(xhr.response.data.signature);
    });
    xhr.send(JSON.stringify(data));

        } else {
            alert("현황 로딩이 끝나면 보이스 브리핑을 사용하실 수 있습니다.")
        }

        

    
}


function GenerateVoice(signature) {
    const xhr = new XMLHttpRequest();
    var audio = new Audio();
    if (audio.paused && audio.currentTime > 0 && !audio.ended) {
         audio.play();
     } else {
         audio.pause();
     }
    let url = null;
    xhr.open('GET', 'https://api.prosody-tts.com/api/ttsapi/voice-generation/' + signature + '/generate/', true);
    xhr.responseType = 'blob'
    xhr.addEventListener('load', function() {
        url = URL.createObjectURL(xhr.response);
        audio.src = url;
        audio.play();
        document.getElementById("ttsBtn").innerHTML = '보이스 브리핑 <span style="color:#a9a9a9; font-size:10px;">with</span> <img src="http://prosody-tts.com/img/custom/logo.png" width="20px" height="20px"></span>';
    });
    xhr.send();
    audio.addEventListenr('ended', function () {
        URL.revokeObjectURL(url);
    }, false);
}


function chageLangSelect(){
    var langSelect = document.getElementById("id-lang");
     
    var selectValue = langSelect.options[langSelect.selectedIndex].value;
    switch(selectValue) {
        case "ko":
        break;

        case "en":
        location.href="index_en.html"
        break;
    }
}
</script>

                            <br>

  
                            <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                                            <li class="nav-item">
                                                <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="index.html" role="tab" aria-controls="pills-home"
                                                 aria-selected="true">현황</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="info.html" role="tab" aria-controls="pills-profile"
                                                 aria-selected="false">정보</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="interactive.html" role="tab" aria-controls="pills-contact"
                                                 aria-selected="false">인터랙티브</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="chat.html" role="tab" aria-controls="pills-contact"
                                                 aria-selected="false">게시판</a>
                                            </li>
                                        </ul>
                        
                    </div>
                </div>
            </section>
            <!-- END WELCOME-->

            <!-- STATISTIC-->

            <section class="statistic statistic2">


                 
            
                <div class="container">

                    <div class="row" >
                        <div class="col-md-12" >
                            <h3 style="margin-left:10px; font-size: 20px;">국내 현황</h3><br>
                        </div>
                    </div>

                    <div class="row" id="korea">
                        <div class="col-md-6 col-lg-3">
                            <div class="statistic__item statistic__item--red" style="border-radius: 10px;">
                                <h2 class="number" id="confirmed">로딩중</h2>
                                <span class="desc" id="confirmedPM">확진자</span><br>
                                <span class="desc" id="cureNow"></span>
                                <div class="icon">
                                    <i class="zmdi zmdi-account-o"></i>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-3">
                            <div class="statistic__item statistic__item--green" style="border-radius: 10px;">
                                <h2 class="number" id="cure">로딩중</h2>
                                <span class="desc" id="curePM">격리해제</span>
                                <div class="icon">
                                    <i class="zmdi zmdi-check-all"></i>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-3">
                            <div class="statistic__item statistic__item--black" style="border-radius: 10px;">
                                <h2 class="number" id="death">로딩중</h2>
                                <span class="desc" id="deathPM" style="display:none;">사망자</span>
                                <span class="desc" style="display: block;">사망자 (+ 0)</span>
                                <div class="icon">
                                    <i class="zmdi zmdi-accounts-outline"></i>
                                </div>
                            </div>
                        </div>
                        </div>
<a href="#globalStatics">전세계 현황 보기 ></a><br>
<!--
<button type="button" data-toggle="modal" data-target="#smallmodal3" style="margin-bottom:20px; color:#d92121;">국내 현황 예측 ></button>
-->
<br>

<!--
<div class="sufee-alert alert with-close alert-danger alert-dismissible fade show">
<span class="badge badge-pill badge-danger">스페셜</span>
<button type="button" data-toggle="modal" style="color:black; text-align: left;" data-target="#smallmodal4"> 이태원 클럽 관련 확진자 현황</button>
</button>
</div>
-->

<div class="sufee-alert alert with-close alert-danger alert-dismissible fade show">
<span class="badge badge-pill badge-danger">공지</span> 학업으로 인해 업데이트가 늦어질 수 있습니다. 양해 부탁드립니다.
</button>
</div>


<div class="sufee-alert alert with-close alert-success alert-dismissible fade show">
<span class="badge badge-pill badge-success">업데이트</span>
<button type="button" data-toggle="modal" style="color:black;" data-target="#smallmodal2"> 최근 업데이트 사항</button>
</button>
</div>

   <br>  

                    </div>
                </div>

                
            </section>
            <!-- END STATISTIC-->

            <!-- STATISTIC CHART-->
            <section class="statistic-chart" >
                <div class="container" >
                    <div class="row" >
                        <div class="col-md-12" >
                            <h3 style="margin-left:10px;">통계</h3><br>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6 col-lg-4">
                            <!-- CHART-->
                            <div class="statistic-chart-1" style="border-radius: 10px;">
                                <div class="chart-wrap">
                                    <h3>신규 <h3 style="color:#a9a9a9;">확진자 추이<br></h3></h3>
                                    <canvas id="widgetChart5"></canvas>
                                </div>
                                <div class="statistic-chart-1-note">
                                    <span>어제 증가치보다</span>
                                    <span class="big">5명</span>
                                    <span>더 많아요.<br><span style="color:#a9a9a9; font-size:13px;"></span></span>

<div class="container">
   <span style="margin-left:-15px;" class="big">신규 환자 해외 유입 현황<Br><Br></span>
  <svg id="chart" viewBox="0 0 500 150" style="margin-left:-35px;"></svg>
</div>


                                </div>
                            </div>
                            <!-- END CHART-->
                        </div>

                        <div class="col-lg-6">
                                <div class="au-card m-b-30">
                                    <div class="au-card-inner">
                                        <h3>국내 일별 현황</h3><br>
                                        <canvas id="barChart"></canvas>
                                    </div>
                                </div>
                            </div>

                             <div class="col-lg-6">
                                <div class="au-card m-b-30">
                                    <div class="recent-report__chart">
                                        <h3>국내 <h3 style="color:#a9a9a9;">검사 현황<br><br>
                                            <h5>확진율 : 1.2%</h5><br></h3></h3>
                                        <canvas id="recent-rep2-chart"></canvas>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 col-lg-4">
                            <!-- CHART PERCENT-->
                            <div class="chart-percent-2" style="border-radius: 10px;">
                                <div class="chart-wrap">
                                    <h3>국가별 <h3 style="color:#a9a9a9;">해외 유입 현황<span style="font-size:14px;">(추정)</span></h3></h3><br>
                                    <canvas id="doughutChart_abroad"></canvas>
                                        <table></table>
                                    </div>
                                </div>
                            </div>

                            



                        </div>



                        <div class="row">

                            <div class="col-md-6 col-lg-4">
                            <!-- CHART PERCENT-->
                            <div class="chart-percent-2" style="border-radius: 10px;">
                                <div class="chart-wrap">
                                    <h3>연령별 <h3 style="color:#a9a9a9;">사망자 현황</h3></h3><br>
                                    <canvas id="singelBarChart"></canvas>
                                        <table></table>
                                    </div>
                                </div>
                            </div>
                            <!-- END CHART PERCENT-->

                            <div class="col-md-6 col-lg-4">
                            <!-- CHART PERCENT-->
                            <div class="chart-percent-2" style="border-radius: 10px;">
                                <div class="chart-wrap">
                                    <h3>연령별 <h3 style="color:#a9a9a9;">확진자 현황</h3></h3><br>
                                    <canvas id="singelBarChart_2"></canvas>
                                        <table></table>
                                    </div>
                                </div>
                            </div>
                            <!-- END CHART PERCENT-->

                            <div class="col-md-6 col-lg-4">
                            <!-- CHART PERCENT-->
                            <div class="chart-percent-2" style="border-radius: 10px;">
                                <div class="chart-wrap">
                                    <h3>성별 <h3 style="color:#a9a9a9;">확진자 현황</h3></h3><br>
                                    <canvas id="doughutChart_sex"></canvas>
                                        <table></table>
                                    </div>
                                </div>
                            </div>

                        </div>
                        
                        
                            <div class="col-lg-9">
                                <h3>지역별 <span style="color:#a0a0a0;">현황<span style="font-size:15px;"> (명)<br><span style="font-size:15px;">좌우로 드래그할 수 있어요.</span></span></span></h3><br>

                                <div class="table-responsive table--no-card m-b-40" style="margin-left:-15px; width:111%;">
                                    <table class="table table-borderless table-striped table-earning" style="width:111%;">
                                        <thead>
                                            <tr>
                                                <th>지역</th>
                                                <th>누적 확진자</th>
                                                <th>격리해제자</th>
                                                <th>사망자</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr onClick="javascript:window.open('http://www.seoul.go.kr/coronaV/coronaStatus.do');">
                                                <td>서울</td>
                                                <td id="seoulCases">-</td>
                                                <td id="seoulCure">-</td>
                                                <td id="seoulDeath">-</td>
                                            </tr>
                                            <tr onClick="javascript:window.open('http://www.busan.go.kr/corona19/index');">
                                                <td>부산</td>
                                                <td id="busanCases">-</td>
                                                <td id="busanCure">-</td>
                                                <td id="busanDeath">-</td>
                                            </tr>
                                            <tr onClick="javascript:window.open('http://www.daegu.go.kr/');">
                                                <td>대구</td>
                                                <td id="daeguCases">-</td>
                                                <td id="daeguCure">-</td>
                                                <td id="daeguDeath">-</td>
                                            </tr>
                                            <tr onClick="javascript:window.open('https://www.incheon.go.kr/corona19/IC010001');">
                                                <td>인천</td>
                                                <td id="incheonCases">-</td>
                                                <td id="incheonCure">-</td>
                                                <td id="incheonDeath">-</td>
                                            </tr>
                                            <tr onClick="javascript:window.open('https://www.gwangju.go.kr/');">
                                                <td>광주</td>
                                                <td id="gwangjuCases">-</td>
                                                <td id="gwangjuCure">-</td>
                                                <td id="gwangjuDeath">-</td>
                                            </tr>
                                            <tr onClick="javascript:window.open('https://www.daejeon.go.kr/corona19/index.do');">
                                                <td>대전</td>
                                                <td id="daejeonCases">-</td>
                                                <td id="daejeonCure">-</td>
                                                <td id="daejeonDeath">-</td>
                                            </tr>
                                            <tr onClick="javascript:window.open('http://www.ulsan.go.kr/corona.jsp');">
                                                <td>울산</td>
                                                <td id="ulsanCases">-</td>
                                                <td id="ulsanCure">-</td>
                                                <td id="ulsanDeath">-</td>
                                            </tr>
                                            <tr onClick="javascript:window.open('https://www.sejong.go.kr/life/sub05_0704.do');">
                                                <td>세종</td>
                                                <td id="sejongCases">-</td>
                                                <td id="sejongCure">-</td>
                                                <td id="sejongDeath">-</td>
                                            </tr>
                                            <tr onClick="javascript:window.open('https://www.gg.go.kr/bbs/boardView.do?bsIdx=464&bIdx=2296956&menuId=1535');">
                                                <td>경기</td>
                                                <td id="ggCases">-</td>
                                                <td id="ggCure">-</td>
                                                <td id="ggDeath">-</td>
                                            </tr>
                                            <tr onClick="javascript:window.open('http://www.provin.gangwon.kr/covid-19.html');">
                                                <td>강원</td>
                                                <td id="gangwonCases">-</td>
                                                <td id="gangwonCure">-</td>
                                                <td id="gangwonDeath">-</td>
                                            </tr>
                                            <tr onClick="javascript:window.open('http://www.chungbuk.go.kr/www/covid-19/index.html');">
                                                <td>충북</td>
                                                <td id="cbCases">-</td>
                                                <td id="cbCure">-</td>
                                                <td id="cbDeath">-</td>
                                            </tr>
                                            <tr onClick="javascript:window.open('http://www.chungnam.go.kr/coronaStatus.do');">
                                                <td>충남</td>
                                                <td id="cnCases">-</td>
                                                <td id="cnCure">-</td>
                                                <td id="cnDeath">-</td>
                                            </tr>
                                            <tr onClick="javascript:window.open('http://www.jeonbuk.go.kr/board/list.jeonbuk?boardId=BBS_0000105&menuCd=DOM_000000105010004000&contentsSid=1189&cpath=');">
                                                <td>전북</td>
                                                <td id="jbCases">-</td>
                                                <td id="jbCure">-</td>
                                                <td id="jbDeath">-</td>
                                            </tr>
                                            <tr onClick="javascript:window.open('https://www.jeonnam.go.kr/coronaMainPage.do');">
                                                <td>전남</td>
                                                <td id="jnCases">-</td>
                                                <td id="jnCure">-</td>
                                                <td id="jnDeath">-</td>
                                            </tr>
                                            <tr onClick="javascript:window.open('http://www.gb.go.kr/Main/open_contents/section/wel/page.do?mnu_uid=5760&LARGE_CODE=360&MEDIUM_CODE=10&SMALL_CODE=50&SMALL_CODE2=60mnu_order=2');">
                                                <td>경북</td>
                                                <td id="gbCases">-</td>
                                                <td id="gbCure">-</td>
                                                <td id="gbDeath">-</td>
                                            </tr>
                                            <tr onClick="javascript:window.open('http://www.gyeongnam.go.kr/corona.html');">
                                                <td>경남</td>
                                                <td id="gnCases">-</td>
                                                <td id="gnCure">-</td>
                                                <td id="gnDeath">-</td>
                                            </tr>
                                            <tr onClick="javascript:window.open('https://jeju.go.kr/covid19.jsp');">
                                                <td>제주</td>
                                                <td id="jejuCases">-</td>
                                                <td id="jejuCure">-</td>
                                                <td id="jejuDeath">-</td>
                                            </tr>
                                            <!-- 검역은 자동 업데이트 제외
                                            <tr>
                                                <td>검역</td>
                                                <td id="gumCases">511</td>
                                                <td id="gumCure">373</td>
                                                <td id="gumDeath">0</td>
                                            </tr>
                                            -->
                                        </tbody>
                                    </table>
                                    </table>
                                </div>
                            </div>
                </div>

                        <!-- STATISTIC-->

            <section class="statistic statistic2" id="globalStatics">
                <div class="container">
                    <h3 style="margin-left:5px;">전세계 현황</h3><br>
                    <div class="row" id="global">
                        <div class="col-md-6 col-lg-3">
                            <div class="statistic__item statistic__item--red" style="border-radius: 10px;">
                                <h2 class="number" id="globeConfirmed">로딩중</h2>
                                <span class="desc">확진자</span>
                                <div class="icon">
                                    <i class="zmdi zmdi-account-o"></i>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 col-lg-3">
                            <div class="statistic__item statistic__item--black" style="border-radius: 10px;">
                                <h2 class="number" id="globeDeath">로딩중</h2>
                                <span class="desc">사망자</span>
                                <div class="icon">
                                    <i class="zmdi zmdi-accounts-outline"></i>
                                </div>

                            </div>

                        </div>

                        </div>

 <a href="interactive/map.html" style=" text-align:right; margin-top:-25px; margin-bottom: 25px;"><br>지도로 보는 전세계 현황 ></a>
                       
                        <!-- TASK PROGRESS
                                    <h4 style="margin-bottom: 10px;">치사율</h4>
                                        <div class="progress mb-2" style="height:30px;">
                                            <div class="progress-bar bg-danger" role="progressbar" style="width: 26%" aria-valuenow="6.652%" aria-valuemin="0" aria-valuemax="100">6.652%</div>
                                        </div><br>

                                        <h4 style="margin-bottom: 10px;">재생산지수(R0) <button type="button" data-toggle="modal" data-target="#smallmodal"><img style="width:25px; height:25px;" src="https://img.pngio.com/help-icon-transparent-background-83167-free-icons-library-help-icon-png-2000_2000.jpg"></button></h4>
                                        <div class="progress mb-2" style="height:30px;">
                                            <div class="progress-bar bg-warning" role="progressbar" style="width: 19%" aria-valuenow="3.68" aria-valuemin="0" aria-valuemax="100">2.5</div>
                                        </div><br>

                                         <h4 style="margin-bottom: 10px;">완치율</h4>
                                        <div class="progress mb-2" style="height:30px;">
                                            <div class="progress-bar bg-success" role="progressbar" style="width: 50%" aria-valuenow="38.225%" aria-valuemin="0" aria-valuemax="100">38.225%</div>
                                        </div>
-->
                    <br>

                                <div class="col-md-6 col-lg-4"> <!-- CHART--> 
                                    <div class="statistic-chart-1" style="border-radius: 10px; margin-left:-15px; margin-right:-15px;"> 
                                        <div class="chart-wrap" style=" margin:-20px;"> <h3 style="background-color:#fff; margin-left:15px;">
                                            TOP15<h3 style="color:#a9a9a9; margin-left:15px;">발생국 현황<br></h3></h3> 
                                            <div id="tableByCountry" style="margin-top:30px; overflow:scroll;"></div> 
                                        </div> 
                                        <a href="http://ncov.mohw.go.kr/bdBoardList_Real.do?brdId=1&brdGubun=14&ncvContSeq=&contSeq=&board_id=&gubun=" target="_blank" style=" text-align:right; margin-left:-15px;"><br>더보기 ></a>
                                        <br><Br> 
                                    </div> 
                                    <!-- END CHART-->
                                     </div>

                    </div>
                </div>
            </section>

            <!-- 업데이트 내역--->
<div class="modal fade" id="smallmodal2" tabindex="-1" role="dialog" aria-labelledby="smallmodalLabel" aria-hidden="true">
<div class="modal-dialog modal-sm" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title" id="smallmodalLabel">최근 업데이트 사항</h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>
<div class="modal-body"><p style="font-size:13px;">
    <h4>06-10 업데이트</h4>
    1. 보이스 브리핑 목소리 개선<br><br>

    <h4>06-09 업데이트</h4>
    1. 보이스 브리핑이 돌아왔습니다!<br>
    - 이제 TTS 음성합성 기술을 이용해 현황을 목소리로 읽어줍니다.<br><br>

    <h4>06-04 업데이트</h4>
    1. UI 개선<br><br>

    * 일일 현황 업데이트는 업데이트 내역에 포함되지 않습니다.

</p>
</p>
</div>
<div class="modal-footer">
<button type="button" class="btn btn-secondary" data-dismiss="modal">닫기</button>
</div>
</div>
</div>
</div>
            <!-- END STATISTIC-->
<!--
            <section id="frontier">
                      <h3 style="text-align: left; width:90%; margin-top:40px; margin-left:25px;">재난문자 <span style="font-size:15px;" class="myRegion">위치 찾는 중...<button type="button" data-toggle="modal" data-target="#smallmodal2"><img style="width:25px; height:25px;" src="https://img.pngio.com/help-icon-transparent-background-83167-free-icons-library-help-icon-png-2000_2000.jpg"></button></a></h3><br>
                      <div class="article" style="border-color: red; width:90%; margin-left:15px; margin-right:15px;">
        <a href="http://www.safekorea.go.kr/idsiSFK/neo/main_m/dis/disasterDataList.html" id="infotainer" target="_blank">
          <h2 class="itemName" id="cbs_ct1">[내용]</h2>

          <h4 class="itemAuthorName" id="cbs_from1" style="margin-bottom:15px;">[발송처]</h4>
        </a>
      </div>

      <div class="article" style="border-color: red; width:90%; margin-left:15px; margin-right:15px;">
        <a href="http://www.safekorea.go.kr/idsiSFK/neo/main_m/dis/disasterDataList.html" id="infotainer" target="_blank">
          <h2 class="itemName" id="cbs_ct2">[내용]</h2>

          <h4 class="itemAuthorName" id="cbs_from2" style="margin-bottom:15px;">[발송처]</h4>
        </a>
      </div>
  <a href="http://www.safekorea.go.kr/idsiSFK/neo/main_m/dis/disasterDataList.html" target="_blank" style=" text-align:right; margin-left:20px;">더보기 ></a><br><Br>

 -->


            </section>

                <div id="frontier" ng-app="myApp">


  <div ng-controller="mainCtrl" style="margin-right:15px; margin-left:15px; padding-top:20px;">
   
    <div class="flexCont">
      <h3 style="text-align: left; width:100%; margin-bottom:20px; margin-left:10px;">최신뉴스</h3><br>

      <div class="article" ng-repeat="item in articles">
         
        
        <a href="{{item.url}}" id="infotainer" target="_blank">
          <h2 class="itemName">{{item.title}}</h2>

          <h4 class="itemAuthorName">{{item.author}}</h4>
          <p class="itemDesc">{{item.description}}</p>
        </a>
        <!--         infotainer end -->
      </div>
      <!--     end ng-repeat div -->
    </div>
    <!--     end flexCont -->
  </div>
  <!-- end main controller div -->
  <a href="https://search.naver.com/search.naver?where=news&sm=tab_jum&query=%EC%BD%94%EB%A1%9C%EB%82%9819" target="_blank" style=" text-align:right; margin-left:20px;">더 많은 뉴스 보기 ></a>
  
</div>
<!-- end frontier div -->
</div>


<br><Br>

<div id="ad_area">
<ins class="kakao_ad_area" style="display:none;" 
 data-ad-unit    = "DAN-soko4owaqkx1" 
 data-ad-width   = "320" 
 data-ad-height  = "100"></ins> 

 </div>
<script type="text/javascript" src="https://t1.daumcdn.net/kas/static/ba.min.js" async></script>


            </section>
            <!-- END STATISTIC CHART-->

                
                <script>
                    // 웨일 확장앱에서는 뒤로가기 처리 안돼서 광고 미노출시킴
var userAgent = window.navigator.userAgent;
var isSidebar = userAgent.indexOf('Sidebar');

if(isSidebar < 0){
    //사이드바
    document.getElementByid("ad_area").sytle.display="none";
        
    }
                </script>

            

            <!-- COPYRIGHT-->
            <section class="p-t-60 p-b-20">
                <div class="container">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="copyright">
                                <p>Copyright © 2020 All rights reserved. <br>정보 제공 : <a href="http://ncov.mohw.go.kr" target="_blank">중앙재난안전대책본부</a>.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- END COPYRIGHT-->
        </div>

    </div>




    <div class="modal fade" id="smallmodal" tabindex="-1" role="dialog" aria-labelledby="smallmodalLabel" aria-hidden="true">
<div class="modal-dialog modal-sm" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title" id="smallmodalLabel">용어설명 - 재생산지수(R0)</h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>
<div class="modal-body">
<p style="font-size:15px;">
재생산지수란 전염성이 사람 간 전파되는 정도를 수치로 나타낸 것으로 쉽게 말하면 감염병의 전파성을 나타내는 지수이다.<br>
R0 수치가 2라고 가정하면, 감염자 1명이 다른 사람 2명 이상에게 전파가 가능하다는 의미이다.<br>
</p>
</div>
<div class="modal-footer">
<button type="button" class="btn btn-secondary" data-dismiss="modal">닫기</button>
</div>
</div>
</div>
</div>



    <div class="modal fade" id="smallmodal4" tabindex="-1" role="dialog" aria-labelledby="smallmodalLabel" aria-hidden="true">
<div class="modal-dialog modal-sm" role="document" >
<div class="modal-content">
<div class="modal-body">
<div class="container">

<h4 style="margin-left:-10px;">이태원 클럽 관련 확진자 현황</h4>

                    <div class="row justify-content-start" style="padding-top:10px;">
                <div class="col" style="padding-top:10px;">
<h1 style="color:#d92121">168</h1>
                </div>
                <div class="col" style="padding-top:10px;">
<h1 style="color:#298fca">+2</h1>

                </div>
                </div>
                <div class="row justify-content-start" style="padding-top:5px;">

                <div class="col" style="padding-top:-10px;">
<h5>확진자</h5>
                </div>
                <div class="col" style="padding-top:-10px;">
<h5>당일 증가</h5>
                </div>
                </div>
                 <span style="font-size:12px; margin-top:20px;">통계 업데이트 : 05.17. 12시</span>
                 <br> <br>
                            <!-- CHART PERCENT-->
                                <div class="chart-wrap">
                                    <canvas id="doughutChart_club"></canvas>
                                        <table></table>
                                    </div>
                                    <span style="font-size:12px; margin-top:20px;">차트 업데이트 : 05.17. 12시</span>

</div>
</div>
<div class="modal-footer">
<button type="button" class="btn btn-secondary" data-dismiss="modal">닫기</button>
</div>
</div>
</div>
</div>





<div class="modal fade" id="smallmodal3" tabindex="-1" role="dialog" aria-labelledby="smallmodalLabel" aria-hidden="true">
<div class="modal-dialog modal-sm" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title" id="smallmodalLabel">국내 현황 예측 결과</h5>
<button type="button" class="close" data-dismiss="modal" aria-label="Close">
<span aria-hidden="true">&times;</span>
</button>
</div>
<div class="modal-body">



<!DOCTYPE html>
<head>

    <!--    <script async="" src="./index_files/analytics.js"></script>-->

<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.13.0/moment.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment-with-locales.min.js"></script>
<!--    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.27/moment-timezone-with-data-1970-2030.min.js"></script>-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.27/moment-timezone-with-data.min.js"></script>



<!--    <script src="./index_files/Chart.min.js"></script>-->
    <script src="https://www.chartjs.org/dist/2.9.3/Chart.min.js"></script>


<!--    <script src="./index_files/utils.js"></script>-->
    <script src="https://www.chartjs.org/samples/latest/utils.js"></script>
    <style>

        canvas {
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }

    </style>
<style type="text/css">/* Chart.js */
@keyframes chartjs-render-animation {
    from {
        opacity: .99
    }
    to {
        opacity: 1
    }
}

.chartjs-render-monitor {
    animation: chartjs-render-animation 1ms
}

.chartjs-size-monitor, .chartjs-size-monitor-expand, .chartjs-size-monitor-shrink {
    position: absolute;
    direction: ltr;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    overflow: hidden;
    pointer-events: none;
    visibility: hidden;
    z-index: -1
}

.chartjs-size-monitor-expand > div {
    position: absolute;
    width: 1000000px;
    height: 1000000px;
    left: 0;
    top: 0
}

.chartjs-size-monitor-shrink > div {
    position: absolute;
    width: 200%;
    height: 200%;
    left: 0;
    top: 0
}</style>
</head>

<body>

    <div style="align-content: center; text-align: left; display: flex; justify-content: left;">
        <div style="width: 100%">
            <br>
            <div style=" width: auto; font-size: xx-large; font-weight: bold; margin: 10px;">
                <h4 style="margin-top:-20px;">내일 누적 확진자 예측</h4>
                <span id="infectedPrediction">계산중...</span><span>명</span>
                <span style="font-size:15px;" id="infectedPrePM">계산중...</span>
                <h4 style="margin-top:20px;">내일 누적 사망자 예측</h4>
                <span id="deathPrediction">계산중...</span><span>명</span>
                <span style="font-size:15px;" id="deathPrePM">계산중...</span>
                <p style="font-size:13px; color:#d92121; margin-top:20px;">
위 수치는 지금까지의 발생 동향을 기반으로 계산된 단순 추정치입니다.<br>단순 참고용으로만 사용하여 주시고, 해당 자료를 신뢰하지 마시기 바랍니다.
</p> 
                <span id="infectedCount" style="display: none;">Predicted infected count calculating...</span>
            </div>
            <button id="toggleScale" style="display: none;"><b>∡ Logaritmic / Linear Scale Toggle</b></button><br>
            
            <b style="display:none;" id="iDailyGrowthPercent" style="color: darkorange">로딩중... </b>
            <div style="display: none;">
            
                <select id="locationSelect" style="width: 150px"></select>
                <button id="clearDatasets" style="border-radius: 0"><b>Clear</b></button>
                <button id="toggleScalePerCountry"><b>∡ Log Scale Toggle</b></button>
            </span>

            <script src="https://www.coronaviruschart.com/jquery-3.3.1.slim.min.js"></script>
            <script src="https://www.coronaviruschart.com/jquery.csv.min.js"></script>

            <script>
                // 여기를 바꿔주세요
                // 최근 6일까지의 수치만 입력해야 합니다.
                let recentKoreaData = [
                    { d: '2020-05-16', i: 11050, t: 262, w: 1016128-81620},
                    { d: '2020-05-17', i: 11065, t: 263, w: 1016128-81620},
                    { d: '2020-05-18', i: 11078, t: 263, w: 1016128-81620},
                    { d: '2020-05-19', i: 11110, t: 263, w: 1016128-81620},
                    { d: '2020-05-20', i: 11122, t: 264, w: 1016128-81620},
                    { d: '2020-05-21', i: 11142, t: 264, w: 1016128-81620},
                                                                            


                ];


                let sourceDataLength = recentKoreaData.length;

                let ahead = 3;
                let [data, infectedNow, iDailyGrowthPercent] = predict(recentKoreaData, ahead);
                updateIC();
                document.getElementById('iDailyGrowthPercent').innerText = Math.floor(iDailyGrowthPercent).toString() + '%';

                function infectedNowToString(infectedNow) {
                    let s = infectedNow.toString();
                    // if (!s.includes('.')) {
                    //     s = s + '.0';
                    // }
                    return s;
                }

                function updateIC() {
                    [data, infectedNow, iDailyGrowthPercent] = predict(recentKoreaData, 0);
                    document.getElementById('infectedCount').innerText = infectedNowToString(infectedNow).replace(/\B(?=(\d{3})+(?!\d))/g, ",");

                }

                

                setInterval(updateIC, 500);

                var color = Chart.helpers.color;

                function pointColors(normalColor) {
                    let bcs = [];
                    for (let i = 0; i < sourceDataLength + ahead; i++) {
                        if (i < sourceDataLength) {
                            bcs.push(normalColor);
                        } else {
                            bcs.push(color(window.chartColors.blue).alpha(1).rgbString());
                        }
                    }
                    return bcs;
                }

                let bcs = pointColors(color(window.chartColors.yellow).alpha(1).rgbString());
                let tbcs = pointColors(color(window.chartColors.red).alpha(1).rgbString());
                let wbcs = pointColors(color(window.chartColors.purple).alpha(1).rgbString());

                document.getElementById('infectedPrediction').innerText = data.map(d => d.i)[6].toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                document.getElementById('deathPrediction').innerText = data.map(d => d.t)[6].toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");

                document.getElementById('infectedPrePM').innerText = "(+ "+(data.map(d => d.i)[6]-data.map(d => d.i)[5])+")";
                document.getElementById('deathPrePM').innerText = "(+ "+(data.map(d => d.t)[6]-data.map(d => d.t)[5])+")";


                var type = 'linear';

                var timeFormat = 'YYYY-MM-DD';

                var colorNames = Object.keys(window.chartColors);
                function addCountryDataset(locationName) {
                    var colorName = colorNames[configPerCountry.data.datasets.length % colorNames.length];
                    var newColor = window.chartColors[colorName];
                    // TODO add predictionOne
                    // var data = window.perCountry[locationName];
                    // let dateStrings = configPerCountry.data.dateStrings;
                    // var [predData, predDateStrings, now, dailyGrowth] = predictOne(data, dateStrings, 3);
                    // TODO colorization:
                    // let bcs = pointColors(color(window.chartColors.yellow).alpha(1).rgbString());

                    var newDataset = {
                        label: locationName,
                        borderColor: newColor,
                        backgroundColor: color(newColor).alpha(0.5).rgbString(),
                        fill: false,
                        data: window.perCountry[locationName]
                    };
                    configPerCountry.data.datasets.push(newDataset);
                    window.myLinePerCountry.update();

                }
                document.getElementById('locationSelect').addEventListener('change', function() {
                    var sel = document.getElementById('locationSelect');
                    let option = sel.options[sel.selectedIndex];
                    var locationName = option.value;
                    addCountryDataset(locationName);
                });

                document.getElementById('clearDatasets').addEventListener('click', function() {
                   configPerCountry.data.datasets = [];
                    window.myLinePerCountry.update();
                });

                window.onload = function() {
                    var ctx = document.getElementById('canvas').getContext('2d');
                    window.myLine = new Chart(ctx, config);

                    csvParsedPromise.then(r => {
                        var ctxPerCountry = document.getElementById('canvasPerCountry').getContext('2d');
                        window.myLinePerCountry = new Chart(ctxPerCountry, configPerCountry);

                        addCountryDataset('US');
                        addCountryDataset('Italy');
                        addCountryDataset('China');
                    });

                };

                function findLineByLeastSquares(values_x, values_y) {
                    var x_sum = 0;
                    var y_sum = 0;
                    var xy_sum = 0;
                    var xx_sum = 0;
                    var count = 0;

                    /*
                     * The above is just for quick access, makes the program faster
                     */
                    var x = 0;
                    var y = 0;
                    var values_length = values_x.length;

                    if (values_length !== values_y.length) {
                        throw new Error('The parameters values_x and values_y need to have same size!');
                    }

                    /*
                     * Above and below cover edge cases
                     */
                    if (values_length === 0) {
                        return [ [], [] ];
                    }

                    /*
                     * Calculate the sum for each of the parts necessary.
                     * FIT ONLY last 5!
                     */
                    for (let i = values_length - 5; i< values_length; i++) {
                        x = values_x[i];
                        y = values_y[i];
                        x_sum+= x;
                        y_sum+= y;
                        xx_sum += x*x;
                        xy_sum += x*y;
                        count++;
                    }

                    /*
                     * Calculate m and b for the line equation:
                     * y = x * m + b
                     */
                    var m = (count*xy_sum - x_sum*y_sum) / (count*xx_sum - x_sum*x_sum);
                    var b = (y_sum/count) - (m*x_sum)/count;


                    return [m, b]
                }

                function predictOne(arr, dateStrings, ahead) {
                    let dayIndexes = [...Array(arr.length).keys()];
                    let [m, b] = findLineByLeastSquares(dayIndexes, arr);
                    let latestDateString = dateStrings[dateStrings.length - 1];
                    let seconds = moment().diff(moment(latestDateString).add(1, 'days')) / 1000;
                    let now = Math.floor(Math.exp((arr.length - 1 + seconds / (60*60*24)) * m + b));
                    let previous_date = undefined;
                    for (let i = 0; i < arr.length + ahead; i++) {
                        let y = Math.floor(Math.exp(i * m + b));
                        let datum = arr[i];
                        if (!datum) {
                            let v = y;
                            let d = moment(previous_date).add(1,'days').format('YYYY-MM-DD');
                            arr.push(v);
                            dateStrings.push(d);
                        }
                        previous_date = dateStrings[i]
                    }
                    let dailyGrowthPercent = (Math.exp(m) - 1) * 100;
                    return [arr, dateStrings, now, dailyGrowthPercent];

                }

                function predict(data, ahead) {

                    let log_infecteds = data.map(d=>Math.log(d.i));
                    let log_toll = data.map(d=>Math.log(d.t));
                    let log_world = data.map(d=>Math.log(d.w));
                    let days = [...Array(data.length).keys()];

                    let [m, b] = findLineByLeastSquares(days, log_infecteds);
                    let [mt, bt] = findLineByLeastSquares(days, log_toll);
                    let [mw, bw] = findLineByLeastSquares(days, log_world);

                    let latest = data[log_infecteds.length - 1];
                    let seconds = moment().diff(moment(latest.d).add(1, 'days')) / 1000;
                    let infectedNow = Math.floor(Math.exp((log_infecteds.length - 1 + seconds / (60*60*24)) * m + b));
                    let worldNow = Math.floor(Math.exp((log_world.length - 1 + seconds / (60*60*24)) * mw + bw));

                    // predict next 3 values
                    // let previous_date = data[log_infecteds.length - 1].d;
                    let previous_date = undefined;
                    for (let i = 0; i < log_infecteds.length + ahead; i++) {
                        let y = Math.floor(Math.exp(i * m + b));
                        let yt = Math.floor(Math.exp(i * mt + bt));
                        let yw = Math.floor(Math.exp(i * mw + bw));
                        let datum = data[i];
                        if (!datum) {
                            datum = {};
                            datum.i = y;
                            datum.t = yt;
                            datum.w = yw;
                            datum.d = moment(previous_date).add(1,'days').format('YYYY-MM-DD');
                            data.push(datum);
                        }
                        datum.im = y;
                        datum.tm = yt;
                        datum.wm = yw;
                        previous_date = datum.d
                    }
                    let iDailyGrowthPercent = (Math.exp(m) - 1) * 100;
                    return [data, infectedNow, iDailyGrowthPercent];
                }


            </script>


            <br>

        </div>
    </div>

</body>
</html>




</div>
<div class="modal-footer">
<button type="button" class="btn btn-secondary" data-dismiss="modal">닫기</button>
</div>
</div>
</div>
</div>



    <!-- Vue JS-->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0rc1/angular-route.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.3/vue.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue-resource/1.3.4/vue-resource.js"></script>
    <!-- Jquery JS-->
    <script src="vendor/jquery-3.2.1.min.js"></script>
    <!-- Bootstrap JS-->
    <script src="vendor/bootstrap-4.1/popper.min.js"></script>
    <script src="vendor/bootstrap-4.1/bootstrap.min.js"></script>
    <!-- Vendor JS-->
    <script src="vendor/slick/slick.min.js">
    </script>
    <script src="vendor/wow/wow.min.js"></script>
    <script src="vendor/animsition/animsition.min.js"></script>
    <script src="vendor/bootstrap-progressbar/bootstrap-progressbar.min.js">
    </script>
    <script src="vendor/counter-up/jquery.waypoints.min.js"></script>
    <script src="vendor/counter-up/jquery.counterup.min.js">
    </script>
    <script src="vendor/circle-progress/circle-progress.min.js"></script>
    <script src="vendor/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="vendor/chartjs/Chart.bundle.min.js"></script>
    <script src="vendor/select2/select2.min.js">
    </script>

    <!-- Main JS-->
    <script src="js/main.js"></script>
    <script src="js/custom.js"></script>

</body>

</html>
<!-- end document-->

    <style type="text/css">/* Chart.js */
@keyframes chartjs-render-animation {
    from {
        opacity: .99
    }
    to {
        opacity: 1
    }
}

.chartjs-render-monitor {
    animation: chartjs-render-animation 1ms
}

.chartjs-size-monitor, .chartjs-size-monitor-expand, .chartjs-size-monitor-shrink {
    position: absolute;
    direction: ltr;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    overflow: hidden;
    pointer-events: none;
    visibility: hidden;
    z-index: -1
}

.chartjs-size-monitor-expand > div {
    position: absolute;
    width: 1000000px;
    height: 1000000px;
    left: 0;
    top: 0
}

.chartjs-size-monitor-shrink > div {
    position: absolute;
    width: 200%;
    height: 200%;
    left: 0;
    top: 0
}

        canvas {
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }

.animated {
  background-color: #a9a9a9;
  background: -webkit-gradient(linear, left top, right top, color-stop(5%, #f3f3f3), color-stop(20%, #eee), color-stop(35%, #f3f3f3));
  background: linear-gradient(to right, #f3f3f3 25%, #eee 20%, #f3f3f3 75%);
  -webkit-animation: placeholderShimmer 2s linear 0s infinite normal forwards;
          animation: placeholderShimmer 2s linear 0s infinite normal forwards;
}

@-webkit-keyframes placeholderShimmer {
  0% {
    background-position: -500px 0;
  }
  100% {
    background-position: 500px 0;
  }
}

@keyframes placeholderShimmer {
  0% {
    background-position: -500px 0;
  }
  100% {
    background-position: 500px 0;
  }

svg {
  width: 100%;
  max-width: 400px;
}

</style>

<script>
    console.clear();

const drawChart = async () => {
  
  const data = [
    { status: "해외유입", tally: 5 },
    { status: "지역발생", tally: 40 }
  ];

  const viewBox = d3.select("#chart").attr("viewBox").split(" ");
  const width = viewBox[2];
  const height = viewBox[3];
  const margin = { top: 70, right: 30, bottom: 0, left: 30 };
  const chart = d3.select("#chart").append("g").attr("transform", `translate(${margin.left}, ${margin.top})`);

  const x = d3.scaleLinear()
    .range([0, width - margin.left - margin.right])
    .domain([0, data.reduce((acc, cur) => acc += cur.tally, 0)]);
  
  const color = d3.scaleOrdinal()
    .range(["#FF7F00", "#24A221", "#D8241F"])
    .domain(data.map(d => d.status));

  const value = chart.selectAll(".value")
    .data(data)
    .join("g")
    .attr("class", "value")
    .attr("transform", (d, i) => {
      const previousData = data.slice(0, i);
      const previousTotal = previousData.reduce((acc, cur) => acc += +cur.tally, 0);
      const offset = x(previousTotal);
      return `translate(${offset}, 0)`;
    })
  
  value.append("rect")
    .attr("width", d => x(d.tally))
    .attr("height", height - margin.top - margin.left)
    .attr("fill", d => color(d.status));
  
  value.append("text")
    .attr("x", d => x(d.tally) / 2)
    .attr("y", -40)
    .attr("text-anchor", "middle")
    .attr("font-size", 22)
    .text(d => d.status)
  
  value.append("text")
    .attr("x", d => x(d.tally) / 2)
    .attr("y", -10)
    .attr("text-anchor", "middle")
    .attr("font-size", 22)
    .text(d => d.tally.toLocaleString())
};

drawChart();

</script>

<!-- 지역별 현황 자동 업데이트 -->
<script>
    document.getElementById('seoulCases').innerHTML = koreaRegionalData[1].확진자수;
    document.getElementById('seoulCure').innerHTML = koreaRegionalData[1].격리해제수;
    document.getElementById('seoulDeath').innerHTML = koreaRegionalData[1].사망자수;

    document.getElementById('busanCases').innerHTML = koreaRegionalData[2].확진자수;
    document.getElementById('busanCure').innerHTML = koreaRegionalData[2].격리해제수;
    document.getElementById('busanDeath').innerHTML = koreaRegionalData[2].사망자수;

    document.getElementById('daeguCases').innerHTML = koreaRegionalData[3].확진자수;
    document.getElementById('daeguCure').innerHTML = koreaRegionalData[3].격리해제수;
    document.getElementById('daeguDeath').innerHTML = koreaRegionalData[3].사망자수;

    document.getElementById('incheonCases').innerHTML = koreaRegionalData[4].확진자수;
    document.getElementById('incheonCure').innerHTML = koreaRegionalData[4].격리해제수;
    document.getElementById('incheonDeath').innerHTML = koreaRegionalData[4].사망자수;

    document.getElementById('gwangjuCases').innerHTML = koreaRegionalData[5].확진자수;
    document.getElementById('gwangjuCure').innerHTML = koreaRegionalData[5].격리해제수;
    document.getElementById('gwangjuDeath').innerHTML = koreaRegionalData[5].사망자수;

    document.getElementById('daejeonCases').innerHTML = koreaRegionalData[6].확진자수;
    document.getElementById('daejeonCure').innerHTML = koreaRegionalData[6].격리해제수;
    document.getElementById('daejeonDeath').innerHTML = koreaRegionalData[6].사망자수;

    document.getElementById('ulsanCases').innerHTML = koreaRegionalData[7].확진자수;
    document.getElementById('ulsanCure').innerHTML = koreaRegionalData[7].격리해제수;
    document.getElementById('ulsanDeath').innerHTML = koreaRegionalData[7].사망자수;

    document.getElementById('sejongCases').innerHTML = koreaRegionalData[8].확진자수;
    document.getElementById('sejongCure').innerHTML = koreaRegionalData[8].격리해제수;
    document.getElementById('sejongDeath').innerHTML = koreaRegionalData[8].사망자수;

    document.getElementById('ggCases').innerHTML = koreaRegionalData[9].확진자수;
     document.getElementById('ggCure').innerHTML = koreaRegionalData[9].격리해제수;
      document.getElementById('ggDeath').innerHTML = koreaRegionalData[9].사망자수;

    document.getElementById('gangwonCases').innerHTML = koreaRegionalData[10].확진자수;
    document.getElementById('gangwonCure').innerHTML = koreaRegionalData[10].격리해제수;
    document.getElementById('gangwonDeath').innerHTML = koreaRegionalData[10].사망자수;

    document.getElementById('cbCases').innerHTML = koreaRegionalData[11].확진자수;
    document.getElementById('cbCure').innerHTML = koreaRegionalData[11].격리해제수;
    document.getElementById('cbDeath').innerHTML = koreaRegionalData[11].사망자수;

    document.getElementById('cnCases').innerHTML = koreaRegionalData[12].확진자수;
    document.getElementById('cnCure').innerHTML = koreaRegionalData[12].격리해제수;
    document.getElementById('cnDeath').innerHTML = koreaRegionalData[12].사망자수;

    document.getElementById('jbCases').innerHTML = koreaRegionalData[13].확진자수;
    document.getElementById('jbCure').innerHTML = koreaRegionalData[13].격리해제수;
    document.getElementById('jbDeath').innerHTML = koreaRegionalData[13].사망자수;

    document.getElementById('jnCases').innerHTML = koreaRegionalData[14].확진자수;
    document.getElementById('jnCure').innerHTML = koreaRegionalData[14].격리해제수;
    document.getElementById('jnDeath').innerHTML = koreaRegionalData[14].사망자수;

    document.getElementById('gbCases').innerHTML = koreaRegionalData[15].확진자수;
    document.getElementById('gbCure').innerHTML = koreaRegionalData[15].격리해제수;
    document.getElementById('gbDeath').innerHTML = koreaRegionalData[15].확진자수;

    document.getElementById('gnCases').innerHTML = koreaRegionalData[16].확진자수;
    document.getElementById('gnCure').innerHTML = koreaRegionalData[16].격리해제수;
    document.getElementById('gnDeath').innerHTML = koreaRegionalData[16].사망자수;

    document.getElementById('jejuCases').innerHTML = koreaRegionalData[17].확진자수;
    document.getElementById('jejuCure').innerHTML = koreaRegionalData[17].격리해제수;
    document.getElementById('jejuDeath').innerHTML = koreaRegionalData[17].사망자수;

</script>
